# General Configuration
PROJECT_NAME="The AI Exchange - SoMM"
API_V1_STR="/api/v1"
SECRET_KEY="change-me-to-a-secure-random-string-minimum-32-characters"
# ^ CRITICAL: Used for signing JWT tokens. Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
DEBUG=true
TESTING=false
# ^ Set TESTING=true to disable rate limiting and use mocked services (dev/testing only)

# Database Configuration
# For MVP/development: sqlite:///./ai_exchange.db
# For production: postgresql://user:password@localhost:5432/ai_exchange
DATABASE_URL="sqlite:///./ai_exchange.db"

# Email Configuration - Flexible Provider Support
# Choose provider: dev, gmail, sendgrid, custom, curtin
EMAIL_PROVIDER="dev"

# Common SMTP Settings (for custom and curtin providers)
SMTP_SERVER="smtp.curtin.edu.au"
SMTP_PORT=587
SMTP_USER="noreply@curtin.edu.au"
SMTP_PASSWORD=""
MAIL_FROM="noreply@curtin.edu.au"
MAIL_FROM_NAME="The AI Exchange"

# Gmail Configuration (for EMAIL_PROVIDER="gmail")
# Requires app-specific password (not your regular Gmail password)
# See: https://support.google.com/accounts/answer/185833
GMAIL_APP_PASSWORD=""

# SendGrid Configuration (for EMAIL_PROVIDER="sendgrid")
# Get API key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=""

# TLS/SSL Settings (for custom and curtin providers)
USE_TLS=true
USE_SSL=false
VALIDATE_CERTS=true

# Authentication Settings
# TWO-TIER ACCESS CONTROL: Domain-based (flexible) + Email-based (precise)
#
# ALLOWED_DOMAINS: Email domain whitelist (comma-separated)
# Allows any user with emails from these domains to register
# Examples: "curtin.edu.au" or "curtin.edu.au,borck.me" (for multi-campus)
ALLOWED_DOMAINS="curtin.edu.au"

# EMAIL_WHITELIST: Specific email addresses (comma-separated, optional)
# Grants access to specific emails even if their domain isn't in ALLOWED_DOMAINS
# Useful for: external collaborators, guests, specific partner organizations
# Examples: "partner@external.org,guest@company.com"
# Leave empty if not needed: EMAIL_WHITELIST=""
EMAIL_WHITELIST=""

# Access Logic: User is approved if (email in EMAIL_WHITELIST) OR (domain in ALLOWED_DOMAINS)

# JWT Algorithm (HS256, HS512, RS256, etc.)
ALGORITHM="HS256"

# Token Expiration Times
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Configuration (comma-separated URLs)
ALLOWED_ORIGINS="http://localhost:5173,http://localhost:3000"

# JWT Configuration
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# Application Settings
LOG_LEVEL="INFO"

# Rate Limiting Configuration (slowapi - IP-based)
# Format: "N/period" where period is: second, minute, hour, day
# Examples: "5/minute" = 5 requests per minute, "1000/hour" = 1000 requests per hour
RATE_LIMIT_LOGIN="5/minute"           # Registration/login attempts
RATE_LIMIT_REGISTER="3/minute"        # New user registrations
RATE_LIMIT_FORGOT_PASSWORD="3/minute" # Password reset requests
RATE_LIMIT_RESET_PASSWORD="5/minute"  # Reset code submissions
RATE_LIMIT_READ="60/minute"           # Regular read operations
RATE_LIMIT_WRITE="30/minute"          # Create/update operations
# Note: When TESTING=true, rate limiting is automatically disabled
